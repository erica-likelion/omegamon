import type { Meta, StoryObj } from "@storybook/react";
import { View } from "react-native";
import Svg, { Path } from "react-native-svg";
import { fn } from "storybook/test";
import { TopNav } from "@/widgets/TopNav/ui";

const LeftIcon = () => (
	<Svg width="24" height="24" viewBox="0 0 24 24" fill="none">
		<Path
			d="M14.293 4.29289C14.6835 3.90237 15.3165 3.90237 15.707 4.29289C16.0975 4.68342 16.0975 5.31643 15.707 5.70696L9.41405 11.9999L15.707 18.2929C16.0975 18.6834 16.0975 19.3164 15.707 19.707C15.3165 20.0975 14.6835 20.0975 14.293 19.707L7.29295 12.707C6.90243 12.3164 6.90243 11.6834 7.29295 11.2929L14.293 4.29289Z"
			fill="white"
		/>
	</Svg>
);

const MenuIcon = () => (
	<Svg width="24" height="24" viewBox="0 0 24 24" fill="none">
		<Path
			d="M4 6C4 5.44772 4.44772 5 5 5H19C19.5523 5 20 5.44772 20 6C20 6.55228 19.5523 7 19 7H5C4.44772 7 4 6.55228 4 6ZM4 12C4 11.4477 4.44772 11 5 11H19C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13H5C4.44772 13 4 12.5523 4 12ZM5 17C4.44772 17 4 17.4477 4 18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18C20 17.4477 19.5523 17 19 17H5Z"
			fill="white"
		/>
	</Svg>
);

const SettingIcon = () => (
	<Svg width="22" height="22" viewBox="0 0 22 22" fill="none">
		<Path
			d="M7.24316 0.636277C7.60969 0.559676 7.98715 0.552751 8.35547 0.614792L8.5127 0.645066L8.51367 0.646042C9.0224 0.760709 9.47552 1.04487 10.0078 1.36479L10.0068 1.36577L10.3643 1.57866L10.3691 1.58159C10.384 1.59058 10.397 1.59877 10.4072 1.60503C10.4182 1.6117 10.4258 1.61619 10.4316 1.61968L10.4336 1.62065L10.4482 1.62846C10.5876 1.70611 10.7438 1.74936 10.9033 1.75444H11.0664C11.0766 1.75431 11.0747 1.75502 11.0684 1.75542C11.0787 1.75477 11.0893 1.75379 11.0996 1.75346C11.2607 1.74842 11.4141 1.70563 11.5508 1.62944C11.5784 1.61371 11.5942 1.60542 11.6318 1.58257L11.6387 1.57768L11.9932 1.36675L11.9951 1.36577C12.5195 1.05204 12.973 0.765468 13.4805 0.651902L13.6367 0.621628C14.0036 0.559593 14.3798 0.566541 14.7451 0.642136C15.2547 0.747527 15.7129 1.02502 16.2451 1.33159L16.7383 1.61577C17.2752 1.92437 17.7449 2.18219 18.0918 2.57085C18.3764 2.88975 18.5894 3.2664 18.7168 3.67436C18.8727 4.17178 18.8516 4.70826 18.8408 5.31889L18.835 5.73979C18.8348 5.75167 18.8346 5.76406 18.834 5.77593C18.8239 5.97935 18.8758 6.18113 18.9834 6.35405C18.9901 6.3648 18.9966 6.37625 19.0029 6.38725C19.0111 6.40159 19.02 6.4159 19.0254 6.42534C19.0313 6.43568 19.0353 6.442 19.0381 6.44682L19.0332 6.43999L19.0508 6.46733C19.1338 6.601 19.2474 6.71288 19.3818 6.79448L19.4697 6.84526L19.8369 7.04936L19.8379 7.05034C20.3739 7.34799 20.8463 7.59679 21.1982 7.97905L21.3027 8.09917C21.5398 8.38509 21.7222 8.7127 21.8398 9.06596L21.8408 9.06792C22.0039 9.56058 21.9933 10.0938 21.9941 10.7085L21.9961 11.2828V11.7291C21.9928 12.1612 21.97 12.5539 21.8486 12.9244L21.8477 12.9263C21.7145 13.3301 21.4965 13.7055 21.2041 14.022L21.2031 14.021C20.9373 14.3095 20.6027 14.5225 20.2246 14.7369L19.832 14.9556L19.4707 15.1558L19.4688 15.1568L19.3828 15.2037C19.2477 15.2851 19.1342 15.3979 19.0508 15.5318L18.9951 15.6255C18.9915 15.6316 18.9881 15.6381 18.9844 15.6441C18.8886 15.7985 18.8364 15.9761 18.834 16.1578V16.2535L18.8418 16.6939C18.8526 17.3023 18.8729 17.8329 18.7188 18.3277L18.7178 18.3296C18.5913 18.7326 18.3825 19.1087 18.0957 19.4302L18.0947 19.4292C17.7508 19.816 17.2833 20.0742 16.7568 20.3804L16.7559 20.3814L16.2607 20.6685C15.7279 20.9776 15.2678 21.2579 14.7578 21.3648L14.7549 21.3658C14.3372 21.4519 13.9063 21.4467 13.4902 21.3531C13.1072 21.268 12.7557 21.087 12.3799 20.8667L11.9932 20.6353L11.6191 20.4097L11.5508 20.3687C11.4446 20.3107 11.3309 20.273 11.2158 20.2554L11.0986 20.2447H10.9004L10.9014 20.2457C10.7463 20.2505 10.5951 20.2909 10.458 20.3648L10.3633 20.4195L10.0098 20.6324C9.4829 20.9483 9.02886 21.2337 8.51953 21.3472L8.52051 21.3482C8.10479 21.4414 7.67404 21.4442 7.25684 21.358C6.74687 21.2527 6.2889 20.9745 5.75684 20.6685H5.75488L5.26172 20.3833C4.72969 20.0761 4.25606 19.8173 3.90918 19.4283C3.62417 19.1088 3.41055 18.7331 3.2832 18.3257C3.12764 17.8283 3.14835 17.2915 3.15918 16.6724L3.16602 16.2662L3.16699 16.232C3.17599 16.0552 3.13789 15.8794 3.05664 15.7222L2.99609 15.6128C2.99238 15.6062 2.98891 15.5991 2.98535 15.5923C2.90004 15.4309 2.77184 15.2956 2.61523 15.2017C2.61081 15.1991 2.60595 15.1966 2.60156 15.1939C2.60156 15.1939 2.59847 15.192 2.59668 15.191C2.58858 15.1865 2.5811 15.1819 2.56738 15.1744C2.55465 15.1674 2.53894 15.1597 2.52148 15.1499L2.16406 14.9507C1.62635 14.6517 1.155 14.4032 0.802734 14.022L0.800781 14.0201C0.548648 13.746 0.350151 13.4276 0.214844 13.0816L0.161133 12.9312C-0.0017955 12.4391 0.00674206 11.9091 0.00585938 11.2916L0.00390625 10.7291V10.2759C0.00771688 9.84088 0.0316661 9.44831 0.152344 9.07768L0.15332 9.07378C0.287643 8.66694 0.50814 8.29378 0.798828 7.97905C1.15296 7.59382 1.62979 7.34325 2.16992 7.04448L2.52441 6.84721L2.61523 6.79546C2.75206 6.71346 2.86814 6.60099 2.95215 6.46538L2.96387 6.44682C2.97059 6.43522 2.98709 6.40642 3.00586 6.37456L3.01758 6.35405C3.11339 6.19977 3.16538 6.02197 3.16797 5.84038V5.8355C3.16736 5.81611 3.16624 5.78443 3.16602 5.7437L3.15234 4.8726C3.14932 4.43881 3.16714 4.04628 3.28223 3.67436V3.67241C3.40913 3.26535 3.62189 2.89041 3.90527 2.57182C4.2471 2.18693 4.70899 1.92916 5.23438 1.62553C5.23963 1.62236 5.24469 1.61885 5.25 1.61577L5.73828 1.33257L5.76074 1.32182C6.28556 1.01707 6.73799 0.741897 7.24316 0.636277ZM8.0752 2.59624C7.9362 2.56521 7.79175 2.56515 7.65234 2.59428C7.53187 2.6195 7.39743 2.68365 6.74512 3.06206C6.7433 3.06311 6.74108 3.06394 6.73926 3.06499L6.26172 3.34136C6.25694 3.34423 6.25288 3.34833 6.24805 3.35112C5.60275 3.72425 5.47993 3.81028 5.40039 3.89995L5.39941 3.90093C5.30548 4.00654 5.23378 4.13036 5.19141 4.26518L5.19238 4.26616C5.16503 4.35475 5.1523 4.46251 5.15332 4.82671L5.15918 5.28569L5.16602 5.7105C5.16611 5.716 5.16602 5.72159 5.16602 5.7271C5.16602 5.74321 5.16643 5.75493 5.16699 5.773C5.16725 5.7811 5.16769 5.79736 5.16797 5.81401C5.16828 5.8325 5.16891 5.85799 5.16797 5.88725L5.16699 5.88628C5.15642 6.41756 5.00441 6.93574 4.72754 7.38921L4.72852 7.39018C4.71452 7.41394 4.70664 7.42684 4.69336 7.44975C4.68432 7.46534 4.66933 7.48966 4.65137 7.51811C4.39845 7.92637 4.052 8.26901 3.63965 8.51518C3.63233 8.51955 3.62461 8.5237 3.61719 8.52788L3.50488 8.59038L3.5 8.59429L3.13867 8.7935L3.1377 8.79448C2.47574 9.16065 2.35202 9.24358 2.27051 9.33257L2.26758 9.3355C2.17067 9.44041 2.09751 9.56511 2.05273 9.70073C2.01482 9.81966 2.00285 9.97664 2.00391 10.7212L2.00586 11.2847V11.2867C2.00695 12.0334 2.0208 12.185 2.05957 12.3023C2.10417 12.437 2.17738 12.5612 2.27344 12.6656C2.35709 12.7558 2.48237 12.8393 3.13574 13.2027L3.49414 13.4019L3.49512 13.4029C3.5249 13.4195 3.53665 13.4256 3.56445 13.441C3.5839 13.4517 3.61128 13.4679 3.64258 13.4869C3.64459 13.4881 3.64741 13.4896 3.64941 13.4908C3.65163 13.4921 3.654 13.4933 3.65625 13.4947C4.11381 13.772 4.48754 14.1663 4.74121 14.6373L4.80957 14.7574L4.81934 14.7769C5.06729 15.2451 5.1859 15.7704 5.16504 16.2994L5.16602 16.3003L5.15918 16.7076C5.14601 17.4604 5.15594 17.6125 5.19238 17.729C5.2244 17.8315 5.27286 17.9276 5.33496 18.0142L5.40137 18.0972C5.48245 18.1881 5.60516 18.2724 6.26074 18.6509L6.75293 18.9351C7.40685 19.3111 7.54112 19.3752 7.66113 19.3999C7.80012 19.4286 7.94453 19.4271 8.08301 19.396H8.08496C8.20325 19.3696 8.33644 19.3039 8.98242 18.9165L9.3457 18.6988L9.45898 18.6324L9.47852 18.6216C9.89461 18.3911 10.36 18.2616 10.8389 18.2466L10.8623 18.2457L10.9922 18.2447H11.1299C11.1402 18.2447 11.1508 18.2453 11.1611 18.2457C11.5809 18.2589 11.9913 18.3608 12.3662 18.5406L12.5244 18.6226L12.5527 18.6392L12.6455 18.6939L12.6475 18.6949L13.0215 18.9205C13.6699 19.3095 13.8047 19.3754 13.9238 19.4019L13.9277 19.4029C14.0668 19.4343 14.211 19.4356 14.3506 19.4068C14.4699 19.3813 14.6087 19.314 15.2568 18.938L15.7529 18.6509C16.4002 18.2744 16.5207 18.1902 16.6006 18.1001L16.6025 18.0982C16.6956 17.9939 16.766 17.8698 16.8096 17.731C16.8361 17.6449 16.8487 17.5392 16.8477 17.1822L16.8418 16.73L16.834 16.2906V16.1324C16.8409 15.5939 16.993 15.0673 17.2734 14.608L17.3379 14.4986L17.3486 14.48C17.6015 14.0719 17.9492 13.731 18.3613 13.4849L18.3887 13.4683L18.499 13.4078L18.5371 13.3873L18.8623 13.2066L19.2666 12.9791C19.5855 12.7964 19.671 12.7334 19.7334 12.6656L19.7344 12.6646C19.8299 12.5612 19.9034 12.4364 19.9482 12.3003C19.986 12.1846 19.9983 12.0327 19.9961 11.2896L19.9941 10.7154V10.7134C19.993 9.96376 19.98 9.81349 19.9414 9.69682C19.8966 9.56307 19.8242 9.43921 19.7285 9.3355L19.7266 9.33354C19.6447 9.24469 19.5205 9.16177 18.8662 8.79839L18.8633 8.79643L18.4971 8.59233L18.4912 8.5894L18.3779 8.52495C18.3707 8.52087 18.3635 8.5165 18.3564 8.51225C17.9477 8.26691 17.6031 7.92798 17.3516 7.523L17.3525 7.52202C17.3165 7.46529 17.2827 7.40769 17.2666 7.37944C16.9632 6.87806 16.8129 6.29812 16.835 5.71245L16.8408 5.28667V5.28374C16.854 4.53455 16.8445 4.38648 16.8086 4.27202C16.7767 4.16993 16.729 4.07244 16.667 3.98589L16.5996 3.90288C16.5185 3.81196 16.3946 3.72517 15.7422 3.35014L15.7402 3.34917L15.2471 3.06401C14.7581 2.78233 14.5597 2.67643 14.4404 2.63042L14.3398 2.60014C14.2007 2.57135 14.0566 2.57295 13.918 2.60405C13.7998 2.63055 13.6662 2.69681 13.0215 3.08257L13.0166 3.0855L12.6631 3.29643L12.6621 3.29546C12.5962 3.33531 12.5557 3.35936 12.5342 3.37163L12.5254 3.37651C12.1149 3.60536 11.6588 3.73128 11.1924 3.75053L11.1934 3.75151C11.1855 3.752 11.1777 3.75114 11.1699 3.75151C11.1674 3.7516 11.1646 3.75241 11.1621 3.75249L11.1611 3.75151C11.1022 3.75408 11.0457 3.75542 11.001 3.75542H10.9932L10.8633 3.75444C10.8553 3.75438 10.8469 3.75372 10.8389 3.75346C10.3604 3.73816 9.89274 3.60853 9.47461 3.37553C9.42235 3.34677 9.36823 3.31319 9.33594 3.2935L8.97852 3.07964C8.3346 2.69263 8.19612 2.62367 8.0752 2.59624Z"
			fill="white"
		/>
		<Path
			d="M14.0001 11.0001C14.0001 10.2044 13.6838 9.44161 13.1212 8.879C12.5586 8.31639 11.7957 8.0001 11.0001 8.0001C10.2044 8.0001 9.4416 8.31639 8.87899 8.879C8.31638 9.44161 8.00008 10.2044 8.00008 11.0001C8.00008 11.7957 8.31638 12.5586 8.87899 13.1212C9.4416 13.6838 10.2044 14.0001 11.0001 14.0001C11.7957 14.0001 12.5586 13.6838 13.1212 13.1212C13.6838 12.5586 14.0001 11.7957 14.0001 11.0001ZM16.0001 11.0001C16.0001 12.3262 15.4729 13.5976 14.5352 14.5353C13.5976 15.4729 12.3262 16.0001 11.0001 16.0001C9.674 16.0001 8.40261 15.4729 7.46492 14.5353C6.52724 13.5976 6.00008 12.3262 6.00008 11.0001C6.00008 9.67401 6.52724 8.40262 7.46492 7.46494C8.40261 6.52726 9.674 6.0001 11.0001 6.0001C12.3262 6.0001 13.5976 6.52726 14.5352 7.46494C15.4729 8.40262 16.0001 9.67401 16.0001 11.0001Z"
			fill="white"
		/>
	</Svg>
);

const meta: Meta<typeof TopNav> = {
	title: "TopNavBar",
	component: TopNav,
	decorators: [
		(Story) => (
			<View style={{ flex: 1, backgroundColor: "#000" }}>
				<Story />
			</View>
		),
	],
	args: {
		onLeftPress: fn(),
		onRightPress: fn(),
	},
	argTypes: {
		title: {
			control: { type: "text" },
			description: "네비게이션 타이틀",
		},
		showBorder: {
			control: { type: "boolean" },
			description: "하단 보더 표시 여부",
		},
	},
};

export default meta;

type Story = StoryObj<typeof TopNav>;

export const Default: Story = {
	args: {
		title: "페이지 제목",
		leftIcon: <LeftIcon />,
		rightIcon: <MenuIcon />,
		showBorder: true,
	},
};

export const WithoutBorder: Story = {
	args: {
		title: "페이지 제목",
		leftIcon: <LeftIcon />,
		rightIcon: <MenuIcon />,
		showBorder: false,
	},
};

export const OnlyTitle: Story = {
	args: {
		title: "제목만",
	},
};

export const AllVariants: Story = {
	render: () => (
		<View
			style={{
				flexDirection: "column",
				gap: 0,
				backgroundColor: "#000",
			}}
		>
			<TopNav
				title="홈"
				leftIcon={<LeftIcon />}
				rightIcon={<MenuIcon />}
				showBorder
			/>
			<TopNav
				title="설정"
				leftIcon={<LeftIcon />}
				rightIcon={<SettingIcon />}
				showBorder
			/>
			<TopNav title="프로필" rightIcon={<SettingIcon />} showBorder />
			<TopNav title="뒤로가기만" leftIcon={<LeftIcon />} showBorder />
			<TopNav
				title="보더 없음"
				leftIcon={<LeftIcon />}
				rightIcon={<MenuIcon />}
				showBorder={false}
			/>
		</View>
	),
};
